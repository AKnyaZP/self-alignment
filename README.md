# Self-Alignment with LLM for Russian Instructions

## Описание
Этот проект использует датасет  <a href='https://huggingface.co/datasets/OpenAssistant/oasst1'>OpenAssistant/oasst1</a> для обучения модели LLM, которая генерирует ответы на русскоязычные инструкции. Основная цель проекта — исследовать подходы к выравниванию модели (self-alignment) для достижения определенного стиля ответов.


## Структура проекта
- `data/`: Директория для хранения данных (не включены в репозиторий).
- `notebooks/`: Ноутбук с EDA и визуализацией данных.
- `src/`: Основной код для обучения, генерации ответов и оценки модели.
- `experiments/`: эксперименты и результаты
- `models/`: здесь хранится дообученная модель


## Достигаться будет стиль кратких и содержательных ответов

#### Улучшение качества ответов:
* Короткие и полезные ответы чаще всего содержат наиболее важную и релевантную информацию.
* Они легче читать и понимать, что особенно важно для широкого круга пользователей.
#### Повышение эффективности:
* Более краткие ответы дают пользователю возможность быстрее получить нужную информацию.
* Это особенно важно в контексте диалоговых систем, где время ответа критично.
#### Улучшение пользовательского опыта:
* Короткие, но полезные ответы делают систему более дружелюбной и удобной для использования.
* Пользователи меньше вероятны будут чувствовать себя перегруженными избыточными данными.


## Шкала критериев  
### По этой шкале модель будет оценивать саму себя 

| Критерий      | Описание                                                                                                                                  | Оценка (по 5-балльной шкале) |
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
| **Краткость** | Ответ содержит только необходимую информацию, без лишних деталей. <br> 5 — идеально краткий; 1 — перегружен ненужной информацией.           | 1-5                           |
| **Полезность**| Ответ полностью решает задачу или отвечает на вопрос. <br> 5 — полностью полезен; 1 — не имеет отношения к вопросу.                         | 1-5                           |
| **Точность**  | Ответ достоверен и корректен. <br> 5 — полностью точен; 1 — содержит ошибки.                                                               | 1-5                           |
| **Ясность**   | Ответ понятен и не содержит сложных формулировок или терминов, которые могут сбить с толку. <br> 5 — легко понять; 1 — запутан или неясен. | 1-5                           |
| **Лаконичность**| Ответ экономен в словах, избегает повторений и избыточности. <br> 5 — максимально лаконичен; 1 — многословен и избыточен.                  | 1-5                           |  

Во время выравнивания модели, мы воспользуемся label из <a href='https://huggingface.co/datasets/OpenAssistant/oasst1'>OpenAssistant/oasst1</a>.  
В этом датасете label представляет собой словарь: 

`"labels": {
        "spam": { "value": 0.0, "count": 3 },  
        "lang_mismatch": { "value": 0.0, "count": 3 },
        "pii": { "value": 0.0, "count": 3 },
        "not_appropriate": { "value": 0.0, "count": 3 },
        "hate_speech": { "value": 0.0, "count": 3 },
        "sexual_content": { "value": 0.0, "count": 3 },
        "quality": { "value": 0.416, "count": 3 },
        "toxicity": { "value": 0.16, "count": 3 },
        "humor": { "value": 0.0, "count": 3 },
        "creativity": { "value": 0.33, "count": 3 },
        "violence": { "value": 0.16, "count": 3 }
    }`  
Так как я делаю выравнивание ответов модели в сторону кратких и полезных, мне нужен `quality`

`quality` - Общая оценка качества ответа, которая может учитывать такие параметры, как ясность, точность, краткость и полезность.   
`value` - как оценивается качество сообщения ~ [0, 1]  
`count` - количество пользователей, оценивших ответ

## Установка и запуск
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/username/project_name.git
   cd project_name
   
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
